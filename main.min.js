var _0xf061a=function(){var _0xcad537=!![];return function(_0xa665ee,_0x1b2535){var _0x76ec5b=_0xcad537?function(){if(_0x1b2535){var _0x211a35=_0x1b2535['apply'](_0xa665ee,arguments);_0x1b2535=null;return _0x211a35;}}:function(){};_0xcad537=![];return _0x76ec5b;};}();var _0x3bb9e9=_0xf061a(this,function(){var _0x1c733c=function(){return'\x64\x65\x76';},_0x20ce72=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x42946a=function(){var _0x2bb472=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2bb472['\x74\x65\x73\x74'](_0x1c733c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1a67e6=function(){var _0x39af74=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x39af74['\x74\x65\x73\x74'](_0x20ce72['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x490e3d=function(_0x5a9a46){var _0x529810=~-0x1>>0x1+0xff%0x0;if(_0x5a9a46['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x529810)){_0x26dc9c(_0x5a9a46);}};var _0x26dc9c=function(_0x5e4ed1){var _0x19f4ee=~-0x4>>0x1+0xff%0x0;if(_0x5e4ed1['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x19f4ee){_0x490e3d(_0x5e4ed1);}};if(!_0x42946a()){if(!_0x1a67e6()){_0x490e3d('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x490e3d('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x490e3d('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x3bb9e9();const chance=new Chance();const Game=new rote['Game']({'id':'display','keyboard':'multi-move'});$(document)['ready'](function(){$('#battle_bar')['hide']();});$(document)['keydown'](function(_0x232c05){if(_0x232c05['keyCode']===0xbf){var _0x5245a5=Game['getActiveLevel']();destroyCurrentMonster();Game['draw']();}});$(document)['keydown'](function(_0x4efbc3){if(_0x4efbc3['keyCode']===0xa3){Game['hero']['stairkey']=!![];nextLevel();Game['draw']();}});document['getElementById']('btn_rsubmit')['addEventListener']('click',checkAnswer);document['getElementById']('btn_tsubmit')['addEventListener']('click',checkAnswer);document['getElementById']('btn_inv')['addEventListener']('click',showInventory);$('.radios')['keyup'](function(_0x244e0a){var _0x23371f=_0x244e0a['keyCode']?_0x244e0a['keyCode']:_0x244e0a['which'];switch(_0x23371f){case 0x31:$('#r_response0')['prop']('checked',!![]);break;case 0x32:$('#r_response1')['prop']('checked',!![]);break;case 0x33:$('#r_response2')['prop']('checked',!![]);break;}});$(document)['keyup'](function(_0x40a3f1){if(_0x40a3f1['keyCode']===0xd){if(Game['state']==='BATTLE'){checkAnswer();}}});var modal=document['getElementById']('invModal');var span=document['getElementsByClassName']('close')[0x0];span['onclick']=function(){modal['style']['display']='none';};window['onclick']=function(_0x5b7c7c){if(_0x5b7c7c['target']===modal){modal['style']['display']='none';}};var getUrlParameter=function getUrlParameter(_0x5be2e7){var _0x4a11c6=window['location']['search']['substring'](0x1),_0x511691=_0x4a11c6['split']('&'),_0x2d07d2,_0x4b200a;for(_0x4b200a=0x0;_0x4b200a<_0x511691['length'];_0x4b200a++){_0x2d07d2=_0x511691[_0x4b200a]['split']('=');if(_0x2d07d2[0x0]===_0x5be2e7){return _0x2d07d2[0x1]===undefined?!![]:decodeURIComponent(_0x2d07d2[0x1]);}}};function getRandomWord(_0x2d778e){var _0x479b5e=![];var _0x5a8b67=Game['getActiveLevel']();while(_0x479b5e===![]){var _0x636973=chance['pickone'](_0x2d778e);if(_0x636973['difficulty']<=_0x5a8b67['difficulty']||_0x636973['difficulty']==null){_0x479b5e=!![];break;};}return _0x636973;}function redraw(){$('#lbl_playerhp')['text']('HP:'+Game['hero']['hp']);}function battle(){var _0x279566=null;Game['state']='BATTLE';if(_0x279566!==null){Game['current_monster']=_0x279566;}Game['print']('The\x20'+Game['current_monster']['name']+'\x20attacks!','#8B0000');$(document)['ready']();$('#battle_bar')['show']();$('#lbl_question')['text']('Translate:\x20'+Game['current_monster']['word']['qword']);$('#lbl_result')['hide']();if(Game['current_monster']['questionType']==='typetranslation'){$('#radio_input')['hide']();$('#text_input')['val']='';$('#text_input')['show']();$('#tinput')['focus']();}if(Game['current_monster']['questionType']==='multiplechoice'){$('#radio_input')['show']();$('#text_input')['hide']();$('.radios')['focus']();var _0x313023=[];var _0xf72e72=document['getElementsByName']('r_response');for(var _0x6be356=0x0;_0x6be356<_0xf72e72['length'];_0x6be356++){switch(Game['current_monster']['name']){case'Noun\x20Ghost':var _0x1fdce0=getRandomWord(Game['list_of_nouns']);break;case'Verb\x20Spectre':var _0x1fdce0=getRandomWord(Game['list_of_verbs']);break;case'Number\x20Ghoul':var _0x1fdce0=getRandomWord(Game['list_of_numbers']);break;case'Colour\x20Creeper':var _0x1fdce0=getRandomWord(Game['list_of_colours']);break;}_0x313023['push'](_0x1fdce0);let _0x56bf4f='#'+'r_response'+_0x6be356;$(_0x56bf4f)['val'](_0x1fdce0['translation'][0x0]);document['querySelector'](_0x56bf4f+'~\x20label')['innerHTML']=_0x1fdce0['translation'][0x0];}if(_0x313023['includes'](Game['current_monster']['word'])){}else{var _0x45b842=chance['integer']({'min':0x0,'max':0x2});let _0xf35dd1='#'+'r_response'+_0x45b842;$(_0xf35dd1)['val'](Game['current_monster']['word']['translation'][0x0]);document['querySelector'](_0xf35dd1+'~\x20label')['innerHTML']=Game['current_monster']['word']['translation'][0x0];}$('#r_response')['show']();$('#btn_rsubmit')['show']();}}function destroyCurrentMonster(){var _0x44ff53=Game['getActiveLevel']();var _0x1ba8af=_0x44ff53['actors']['indexOf'](Game['current_monster']);Game['print']('You\x20destroy\x20the\x20'+Game['current_monster']['name']+'!');const _0x4f1b5d=Game['current_monster']['inventory']['hasContents']()?Game['current_monster']['inventory']['items'][0x0]['name']:'empty\x20box';if(_0x4f1b5d!=='empty\x20box'){if(_0x4f1b5d==='Stair\x20Key'){Game['hero']['stairkey']=!![];$('#lbl_key')['text']('Key:Y');}else{Game['hero']['inventory']['add'](_0x4f1b5d);}Game['print']('The\x20'+Game['current_monster']['name']+'\x20drops\x20a\x20'+_0x4f1b5d+'!','#0600f2');}if(_0x1ba8af>-0x1){_0x44ff53['actors']['splice'](_0x1ba8af,0x1);Game['scheduler']['remove'](Game['current_monster']);Game['current_monster']=null;Game['state']='MOVEMENT';$('#battle_bar')['hide']();}}function checkAnswer(){var _0x538966=null;var _0x5cfc3f=null;if(Game['current_monster']['questionType']==='typetranslation'){_0x5cfc3f=$('#tinput')['val']();_0x5cfc3f=_0x5cfc3f['replace']('the','');for(let _0x1aea11 of Game['current_monster']['word']['translation']){let _0x10c8fd=$['trim'](_0x1aea11['toLowerCase']()['replace']('the',''));let _0x3f1531=$['trim'](_0x5cfc3f['toLowerCase']()['replace']('the',''));console['log'](_0x10c8fd);console['log'](_0x3f1531);if(_0x10c8fd===_0x3f1531){_0x538966=!![];}}}if(Game['current_monster']['questionType']==='multiplechoice'){_0x5cfc3f=$('input[name=\x27r_response\x27]:checked')['val']();if(Game['current_monster']['word']['translation']['includes'](_0x5cfc3f)){_0x538966=!![];}}if(_0x538966===!![]){$('#lbl_result')['text']('good!');Game['points']+=0x1;destroyCurrentMonster();}else{Game['hero']['hp']-=0x1;if(Game['hero']['hp']<=0x0){if(!alert('The\x20ghosts\x20got\x20you!\x20You\x20have\x20lost\x20the\x20game\x20with\x20'+Game['points']+'\x20points.')){window['location']['reload']();}}Game['print']('The\x20'+Game['current_monster']['name']+'\x20hits\x20you!','#8B0000');redraw();$('#lbl_result')['show']();$('#lbl_result')['text']('Incorrect!');}Game['draw']();}function getItemFromContainer(_0x22ebbd){const _0x5f1375=_0x22ebbd['hasContents']()?_0x22ebbd['getContents'](0x0)['name']:'empty\x20box';Game['print']('The\x20hero\x20opens\x20the\x20'+_0x22ebbd['name']+',\x20and\x20finds\x20a\x20'+_0x5f1375+'.');if(_0x5f1375!=='empty\x20box'){Game['hero']['inventory']['add'](_0x5f1375);}var _0x32adaa=Game['getActiveLevel']();var _0x223a7f=_0x32adaa['items']['indexOf'](_0x22ebbd);if(_0x223a7f>-0x1){_0x32adaa['items']['splice'](_0x223a7f,0x1);}Game['draw']();}function useItem(_0x4c881b){let _0x3c2eec=![];switch(_0x4c881b){case'Healing\x20Potion':if(Game['hero']['hp']<Game['hero']['hpMax']){Game['hero']['hp']+=0x1;if(Game['hero']['hp']>Game['hero']['hpMax']){Game['hero']['hp']=Game['hero']['hpMax'];}_0x3c2eec=!![];Game['print']('You\x20feel\x20healthier!');}else{Game['print']('You\x20are\x20already\x20at\x20full\x20health!');}break;case'Destabilizer':if(Game['current_monster']!==null){destroyCurrentMonster();modal['style']['display']='none';_0x3c2eec=!![];Game['print']('The\x20Destabilizer\x20rips\x20the\x20ghost\x20apart!');}else{Game['print']('There\x27s\x20nothing\x20to\x20Destabilize!');}break;case'Skeleton\x20Key':if(Game['hero']['stairkey']===![]){Game['hero']['stairkey']=!![];$('#lbl_key')['text']('Key:Y');_0x3c2eec=!![];Game['print']('The\x20Skeleton\x20Key\x20turns\x20into\x20the\x20stair\x20key\x20for\x20this\x20level!');}else{Game['print']('You\x20already\x20have\x20a\x20Stair\x20Key\x20for\x20this\x20level!');}break;case'Ecto\x20Serum':Game['hero']['hpMax']+=0x1;Game['hero']['hp']+=0x1;_0x3c2eec=!![];Game['print']('The\x20Ecto\x20Serum\x20boosts\x20your\x20maximum\x20HP!');break;}if(_0x3c2eec===!![]){dropItem(_0x4c881b);}}function dropItem(_0x10e162){Game['print']('You\x20drop\x20the\x20'+_0x10e162);Game['hero']['inventory']['remove'](_0x10e162);showInventory();redraw();}function showInventory(){$('#inventory_list')['empty']();modal['style']['display']='block';var _0x4683cb=document['getElementById']('inventory_list');let _0x2413bc=0x0;console['log'](Game['hero']['inventory']['items']);for(let _0x5a33f7 in Game['hero']['inventory']['items']){var _0xf8bedf=document['createElement']('button');var _0x3f1ed0=document['createTextNode']('Use');var _0x5588ed=document['createElement']('button');var _0x482710=document['createTextNode']('Drop');var _0x453b80=document['createTextNode'](Game['hero']['inventory']['items'][_0x5a33f7]+'\x20');_0xf8bedf['appendChild'](_0x3f1ed0);_0xf8bedf['setAttribute']('type','button');_0xf8bedf['onclick']=function(){useItem(Game['hero']['inventory']['items'][_0x5a33f7]);};_0xf8bedf['setAttribute']('id','button'+_0x2413bc);_0x5588ed['appendChild'](_0x482710);_0x5588ed['setAttribute']('type','button');console['log'](Game['hero']['inventory']['items'][_0x5a33f7]);_0x5588ed['onclick']=function(){dropItem(Game['hero']['inventory']['items'][_0x5a33f7]);};_0x5588ed['setAttribute']('id','button'+_0x2413bc);_0x4683cb['appendChild'](_0x453b80);_0x4683cb['appendChild'](_0xf8bedf);_0x4683cb['appendChild'](_0x5588ed);$('#inventory_list')['append']('<br/>');_0x2413bc++;}}function createPlayerCharacter(_0x54cb71){const {x,y}=_0x54cb71['findRandomFreeCell']();Game['hero']=Game['createHero']({'x':x,'y':y});Game['hero']['name']='Hero';Game['hero']['hpMax']=0x5;Game['hero']['hp']=0x5;Game['getActiveLevel']();}function generateEnemy(_0x39e1e4,_0x3debfc,_0x24d3bc,_0x11dfdc){var _0xfc1bf2=chance['integer']({'min':_0x24d3bc,'max':_0x11dfdc});while(_0xfc1bf2--){const {x,y}=_0x3debfc['findRandomFreeCell']();switch(_0x39e1e4){case'Noun\x20Ghost':var _0x1c2ca0=Game['createActor']({'x':x,'y':y,'name':'Noun\x20Ghost','color':'#f44','character':'N'},_0x3debfc);_0x1c2ca0['word']=getRandomWord(Game['list_of_nouns']);_0x1c2ca0['questionType']=chance['weighted'](['multiplechoice','typetranslation'],[0x3,0x9]);break;case'Number\x20Ghoul':var _0x1c2ca0=Game['createActor']({'x':x,'y':y,'name':'Number\x20Ghoul','color':'#b70004','character':'n'},_0x3debfc);_0x1c2ca0['word']=chance['pickone'](Game['list_of_numbers']);_0x1c2ca0['questionType']=chance['weighted'](['multiplechoice'],[0x1]);break;case'Verb\x20Spectre':var _0x1c2ca0=Game['createActor']({'x':x,'y':y,'name':'Verb\x20Spectre','color':'#ffbc00','character':'V'},_0x3debfc);_0x1c2ca0['word']=getRandomWord(Game['list_of_verbs']);_0x1c2ca0['questionType']='multiplechoice';break;case'Colour\x20Creeper':var _0x1c2ca0=Game['createActor']({'x':x,'y':y,'name':'Colour\x20Creeper','color':'#3cff57','character':'C'},_0x3debfc);_0x1c2ca0['word']=getRandomWord(Game['list_of_colours']);_0x1c2ca0['questionType']='multiplechoice';break;}_0x1c2ca0['setTarget'](Game['hero']);_0x1c2ca0['act']=function(){this['setPathToTarget'](_0x3debfc['getMap']());var _0x4b69bf=this['path']['length'];if(_0x4b69bf<0x8&&_0x4b69bf>=0x2&&Game['state']!=='BATTLE'){this['moveAlongPath']();Game['draw']();}if(_0x4b69bf<=0x3){if(Game['state']!=='BATTLE'){Game['current_monster']=this;battle();}}};}}function generateChests(_0x281a3c,_0x3f2eec,_0x4916df){var _0xf5e2ff=chance['integer']({'min':_0x3f2eec,'max':_0x4916df});while(_0xf5e2ff--){const {x,y}=_0x281a3c['findRandomFreeCell']();const _0x1b46a3={'open':getItemFromContainer};const _0x1e635a={'x':x,'y':y,'on':_0x1b46a3,'name':'chest','inventorySize':0x1,'color':'#0600f2','character':'*'};const _0x27efcf=Game['createItem'](_0x1e635a,_0x281a3c);var _0x418dda=chance['weighted'](['empty\x20box','healing_pot','destabilizer','skeleton_key','ecto_serum'],[0x3,0x2,0x1,0.5,0.5]);switch(_0x418dda){case'empty\x20box':break;case'healing_pot':const _0x23afc5=Game['createItem']({'x':x,'y':y,'character':'\x22','name':'Healing\x20Potion'},_0x281a3c);_0x27efcf['addItem'](_0x23afc5);break;case'destabilizer':const _0x4e2929=Game['createItem']({'x':x,'y':y,'character':'$','name':'Destabilizer'},_0x281a3c);_0x27efcf['addItem'](_0x4e2929);break;case'skeleton_key':const _0x280fda=Game['createItem']({'x':x,'y':y,'character':'^','name':'Skeleton\x20Key'},_0x281a3c);_0x27efcf['addItem'](_0x280fda);break;case'ecto_serum':const _0xbe068d=Game['createItem']({'x':x,'y':y,'character':'(','name':'Ecto\x20Serum'},_0x281a3c);_0x27efcf['addItem'](_0xbe068d);break;}}}function generateStairs(_0x1016f3,_0xc12432=0x2){while(_0xc12432--){const {x,y}=_0x1016f3['findRandomFreeCell']();const _0xefa9c={'open':nextLevel};const _0x450a21={'x':x,'y':y,'on':_0xefa9c,'name':'Stairs','inventorySize':0x1,'character':'>'};Game['createItem'](_0x450a21,_0x1016f3);}}function nextLevel(){if(Game['hero']['stairkey']){Game['hero']['stairkey']=![];$('#lbl_key')['text']('Key:N');Game['activeLevelIndex']=Game['activeLevelIndex']+0x1;Game['print']('You\x20use\x20the\x20key\x20to\x20descend\x20to\x20level\x20'+Game['activeLevelIndex'],'#1ef200');$('#lbl_level')['text']('Level:'+Game['activeLevelIndex']);initLevel();}else{Game['print']('You\x20need\x20to\x20find\x20the\x20Stair\x20Key\x20first!','#fff9fc');}}function initData(){var _0x57e82c=[];$['ajaxSetup']({'async':![]});var _0x4b556c=getUrlParameter('language');if(getUrlParameter('mode')==='noun'){let _0x50ca0d=$['getJSON']('data/'+_0x4b556c+'_nouns.json');Game['list_of_nouns']=_0x50ca0d['responseJSON'];}else{try{let _0x4a18a7=$['getJSON']('data/'+_0x4b556c+'_nouns.json');Game['list_of_nouns']=_0x4a18a7['responseJSON'];let _0x9070a5=$['getJSON']('data/'+_0x4b556c+'_verbs.json');Game['list_of_verbs']=_0x9070a5['responseJSON'];let _0x487139=$['getJSON']('data/'+_0x4b556c+'_numbers.json');Game['list_of_numbers']=_0x487139['responseJSON'];let _0x1a2a4b=$['getJSON']('data/'+_0x4b556c+'_colours.json');Game['list_of_colours']=_0x1a2a4b['responseJSON'];}catch(_0x11919a){console['log']('couldnt\x20load\x20language\x20files');}}}function initLevel(){Game['scheduler']['clear']();const _0x43e9d3=Game['createLevel']({'map':{'type':'digger','walls':!![]}});const _0x371107=Game['activeLevelIndex'];console['log'](_0x371107);if(Game['hero']!==null){var _0x30f9b0=Game['hero']['hp'];var _0x416060=Game['hero']['inventory'];}createPlayerCharacter(_0x43e9d3);if(_0x30f9b0){Game['hero']['hp']=_0x30f9b0;Game['hero']['inventory']=_0x416060;}console['log']('difficult'+Game['getActiveLevel']()['difficulty']);generateStairs(_0x43e9d3,0x2);generateChests(_0x43e9d3,0x2,0x4);var _0xef8150=getUrlParameter('mode');if(_0xef8150==='full'){switch(_0x371107){case 0x0:case 0x1:case 0x2:Game['getActiveLevel']()['difficulty']=0x0;generateEnemy('Noun\x20Ghost',_0x43e9d3,0x2,0x5);generateEnemy('Number\x20Ghoul',_0x43e9d3,0x4,0x5);break;case 0x3:case 0x4:case 0x5:case 0x6:Game['getActiveLevel']()['difficulty']=0x1;generateEnemy('Noun\x20Ghost',_0x43e9d3,0x3,0x4);generateEnemy('Colour\x20Creeper',_0x43e9d3,0x3,0x4);generateEnemy('Number\x20Ghoul',_0x43e9d3,0x1,0x2);break;case 0x7:case 0x8:case 0x9:case 0xa:Game['getActiveLevel']()['difficulty']=0x2;generateEnemy('Noun\x20Ghost',_0x43e9d3,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x43e9d3,0x3,0x5);generateEnemy('Colour\x20Creeper',_0x43e9d3,0x0,0x1);generateEnemy('Number\x20Ghoul',_0x43e9d3,0x0,0x1);break;case 0xb:case 0xc:case 0xd:case 0xe:Game['getActiveLevel']()['difficulty']=0x3;generateEnemy('Noun\x20Ghost',_0x43e9d3,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x43e9d3,0x4,0x6);break;default:Game['getActiveLevel']()['difficulty']=0x4;generateEnemy('Number\x20Ghoul',_0x43e9d3,0x4,0x5);generateEnemy('Colour\x20Creeper',_0x43e9d3,0x3,0x4);generateEnemy('Noun\x20Ghost',_0x43e9d3,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x43e9d3,0x4,0x6);}}if(_0xef8150==='noun'){switch(_0x371107){case 0x0:case 0x1:case 0x2:Game['getActiveLevel']()['difficulty']=0x0;break;case 0x3:case 0x4:case 0x5:case 0x6:Game['getActiveLevel']()['difficulty']=0x1;break;case 0x7:case 0x8:case 0x9:case 0xa:Game['getActiveLevel']()['difficulty']=0x2;break;case 0xb:case 0xc:case 0xd:case 0xe:Game['getActiveLevel']()['difficulty']=0x3;break;default:Game['getActiveLevel']()['difficulty']=0x4;}generateEnemy('Noun\x20Ghost',_0x43e9d3,0x6,0xa);}var _0x326643=chance['pickone'](Game['getActiveLevel']()['actors']);while(_0x326643['name']==='Hero'){_0x326643=chance['pickone'](Game['getActiveLevel']()['actors']);}const _0x211d03=Game['createItem']({'x':0x0,'y':0x0,'character':'*','name':'Stair\x20Key'},_0x43e9d3);_0x326643['addItem'](_0x211d03);console['log'](_0x326643);Game['start']();}function initGame(){rote['ready'](()=>{var _0x35dac7=0x0;if($(window)['width']()>0x320){_0x35dac7=0x32;}else{_0x35dac7=0x1e;}Game['createDisplay']({'width':_0x35dac7,'height':0x14,'fontSize':0x14,'fontFamily':'Fix15MonoBold'});initData();initLevel();Game['current_monster']=null;Game['points']=0x0;Game['hero']['stairkey']=![];Game['print']('Get\x20busting\x20those\x20language\x20ghosts!');});}initGame();
