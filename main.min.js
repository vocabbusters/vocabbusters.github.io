var _0x403c71=function(){var _0x42993e=!![];return function(_0x5f3158,_0x41614f){var _0x3b2376=_0x42993e?function(){if(_0x41614f){var _0x572082=_0x41614f['apply'](_0x5f3158,arguments);_0x41614f=null;return _0x572082;}}:function(){};_0x42993e=![];return _0x3b2376;};}();var _0x5c6b74=_0x403c71(this,function(){var _0x5b51bc=function(){return'\x64\x65\x76';},_0x29e989=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x5ea615=function(){var _0x41818a=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x41818a['\x74\x65\x73\x74'](_0x5b51bc['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x11e886=function(){var _0x34fd37=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x34fd37['\x74\x65\x73\x74'](_0x29e989['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x370431=function(_0x395e15){var _0x24a85f=~-0x1>>0x1+0xff%0x0;if(_0x395e15['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x24a85f)){_0x146879(_0x395e15);}};var _0x146879=function(_0x49f708){var _0x14cce5=~-0x4>>0x1+0xff%0x0;if(_0x49f708['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x14cce5){_0x370431(_0x49f708);}};if(!_0x5ea615()){if(!_0x11e886()){_0x370431('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x370431('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x370431('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x5c6b74();const chance=new Chance();const GameI=new rote['Game']({'id':'display','keyboard':'multi-move'});$(document)['ready'](function(){$('#battle_bar')['hide']();});$(document)['keydown'](function(_0x1fbe2a){if(_0x1fbe2a['keyCode']===0xbf){destroyCurrentMonster();GameI['draw']();}});$(document)['keydown'](function(_0x47bab8){if(_0x47bab8['keyCode']===0xa3){GameI['hero']['stairkey']=!![];nextLevel();GameI['draw']();}});$('.radios')['keyup'](function(_0x220777){var _0x270c69=_0x220777['keyCode']?_0x220777['keyCode']:_0x220777['which'];switch(_0x270c69){case 0x31:$('#r_response0')['prop']('checked',!![]);break;case 0x32:$('#r_response1')['prop']('checked',!![]);break;case 0x33:$('#r_response2')['prop']('checked',!![]);break;}});$(document)['keyup'](function(_0x50ee58){if(_0x50ee58['keyCode']===0xd){if(GameI['state']==='BATTLE'){checkAnswer();}}});var modal=document['getElementById']('invModal');var span=document['getElementsByClassName']('close')[0x0];span['onclick']=function(){modal['style']['display']='none';};window['onclick']=function(_0x18725f){if(_0x18725f['target']===modal){modal['style']['display']='none';}};var getUrlParameter=function getUrlParameter(_0x310959){var _0x4d081d=window['location']['search']['substring'](0x1),_0x555b8a=_0x4d081d['split']('&'),_0x3bd7e6,_0x48758d;for(_0x48758d=0x0;_0x48758d<_0x555b8a['length'];_0x48758d++){_0x3bd7e6=_0x555b8a[_0x48758d]['split']('=');if(_0x3bd7e6[0x0]===_0x310959){return _0x3bd7e6[0x1]===undefined?!![]:decodeURIComponent(_0x3bd7e6[0x1]);}}};function getRandomWord(_0x1288d3){var _0x35244f=![];var _0x3891a9=GameI['getActiveLevel']();while(_0x35244f===![]){var _0x2048e0=chance['pickone'](_0x1288d3);if(_0x2048e0['difficulty']<=_0x3891a9['difficulty']||_0x2048e0['difficulty']==null){_0x35244f=!![];break;};}return _0x2048e0;}function redraw(){$('#lbl_playerhp')['text']('HP:'+GameI['hero']['hp']);}function battle(){var _0xc58e8e=null;GameI['state']='BATTLE';if(_0xc58e8e!==null){GameI['current_monster']=_0xc58e8e;}GameI['print']('The\x20'+GameI['current_monster']['name']+'\x20attacks!');$(document)['ready']();$('#battle_bar')['show']();$('#lbl_question')['text']('Translate:\x20'+GameI['current_monster']['word']['qword']);$('#lbl_result')['hide']();if(GameI['current_monster']['questionType']==='typetranslation'){$('#radio_input')['hide']();$('#text_input')['val']='';$('#text_input')['show']();$('#tinput')['focus']();}if(GameI['current_monster']['questionType']==='multiplechoice'){$('#radio_input')['show']();$('#text_input')['hide']();$('.radios')['focus']();var _0x4eb326=[];var _0x21589a=document['getElementsByName']('r_response');for(var _0x4b5479=0x0;_0x4b5479<_0x21589a['length'];_0x4b5479++){switch(GameI['current_monster']['name']){case'Noun\x20Ghost':var _0x399262=getRandomWord(GameI['list_of_nouns']);break;case'Verb\x20Spectre':var _0x399262=getRandomWord(GameI['list_of_verbs']);break;case'Number\x20Ghoul':var _0x399262=getRandomWord(GameI['list_of_numbers']);break;case'Colour\x20Creeper':var _0x399262=getRandomWord(GameI['list_of_colours']);break;}_0x4eb326['push'](_0x399262);let _0x21e733='#'+'r_response'+_0x4b5479;$(_0x21e733)['val'](_0x399262['translation'][0x0]);document['querySelector'](_0x21e733+'~\x20label')['innerHTML']=_0x399262['translation'][0x0];}if(_0x4eb326['includes'](GameI['current_monster']['word'])){}else{var _0x10741b=chance['integer']({'min':0x0,'max':0x2});let _0x194851='#'+'r_response'+_0x10741b;$(_0x194851)['val'](GameI['current_monster']['word']['translation'][0x0]);document['querySelector'](_0x194851+'~\x20label')['innerHTML']=GameI['current_monster']['word']['translation'][0x0];}$('#r_response')['show']();$('#btn_rsubmit')['show']();}}function destroyCurrentMonster(){var _0x466db7=currentLevel['actors']['indexOf'](GameI['current_monster']);GameI['print']('You\x20destroy\x20the\x20'+GameI['current_monster']['name']+'!',color='#0600ec');const _0x5ea934=GameI['current_monster']['inventory']['hasContents']()?GameI['current_monster']['inventory']['items'][0x0]['name']:'empty\x20box';if(_0x5ea934!=='empty\x20box'){if(_0x5ea934==='Stair\x20Key'){GameI['hero']['stairkey']=!![];$('#lbl_key')['text']('Key:Y');}else{GameI['hero']['inventory']['add'](_0x5ea934);}GameI['print']('The\x20'+GameI['current_monster']['name']+'\x20drops\x20a\x20'+_0x5ea934+'!',color='#1ef200');}if(_0x466db7>-0x1){currentLevel['actors']['splice'](_0x466db7,0x1);GameI['scheduler']['remove'](GameI['current_monster']);GameI['current_monster']=null;GameI['state']='MOVEMENT';GameI['hero']['handleEvent']();$('#battle_bar')['hide']();}}function checkAnswer(){var _0x2ceaf0=null;var _0x26198b=null;console['log'](GameI['current_monster']['word']['translation']);if(GameI['current_monster']['questionType']==='typetranslation'){_0x26198b=$('#tinput')['val']();_0x26198b=_0x26198b['replace']('the','');for(let _0x3dc2c5 of GameI['current_monster']['word']['translation']){let _0x40b8de=$['trim'](_0x3dc2c5['toLowerCase']()['replace']('the',''));let _0x384f2b=$['trim'](_0x26198b['toLowerCase']()['replace']('the',''));console['log'](_0x40b8de);console['log'](_0x384f2b);if(_0x40b8de===_0x384f2b){_0x2ceaf0=!![];}}}if(GameI['current_monster']['questionType']==='multiplechoice'){_0x26198b=$('input[name=\x27r_response\x27]:checked')['val']();if(GameI['current_monster']['word']['translation']['includes'](_0x26198b)){_0x2ceaf0=!![];}}if(_0x2ceaf0===!![]){$('#lbl_result')['text']('good!');currentLevel=GameI['getActiveLevel']();GameI['points']+=0x1;destroyCurrentMonster();}else{GameI['hero']['hp']-=0x1;if(GameI['hero']['hp']<=0x0){if(!alert('The\x20ghosts\x20got\x20you!\x20You\x20have\x20lost\x20the\x20game\x20with\x20'+GameI['points']+'\x20points.')){window['location']['reload']();}}GameI['print']('The\x20'+GameI['current_monster']['name']+'\x20hits\x20you!',color='#e60000');redraw();$('#lbl_result')['show']();$('#lbl_result')['text']('Incorrect!');}GameI['draw']();}function getItemFromContainer(_0x47cf82){const _0x3a5564=_0x47cf82['hasContents']()?_0x47cf82['getContents'](0x0)['name']:'empty\x20box';GameI['print']('The\x20hero\x20opens\x20the\x20'+_0x47cf82['name']+',\x20and\x20finds\x20a\x20'+_0x3a5564+'.');if(_0x3a5564!=='empty\x20box'){GameI['hero']['inventory']['add'](_0x3a5564);}currentLevel=GameI['getActiveLevel']();var _0x4eae0a=currentLevel['items']['indexOf'](_0x47cf82);if(_0x4eae0a>-0x1){currentLevel['items']['splice'](_0x4eae0a,0x1);}GameI['draw']();}function useItem(_0x110d31){let _0x349867=![];switch(_0x110d31){case'Healing\x20Potion':if(GameI['hero']['hp']<GameI['hero']['hpMax']){GameI['hero']['hp']+=0x1;if(GameI['hero']['hp']>GameI['hero']['hpMax']){GameI['hero']['hp']=GameI['hero']['hpMax'];}_0x349867=!![];GameI['print']('You\x20feel\x20healthier!');}else{GameI['print']('You\x20are\x20already\x20at\x20full\x20health!');}break;case'Destabilizer':if(GameI['current_monster']!==null){destroyCurrentMonster();modal['style']['display']='none';_0x349867=!![];GameI['print']('The\x20Destabilizer\x20rips\x20the\x20ghost\x20apart!');}else{GameI['print']('There\x27s\x20nothing\x20to\x20Destabilize!');}break;case'Skeleton\x20Key':if(GameI['hero']['stairkey']===![]){GameI['hero']['stairkey']=!![];$('#lbl_key')['text']('Key:Y');_0x349867=!![];GameI['print']('The\x20Skeleton\x20Key\x20turns\x20into\x20the\x20stair\x20key\x20for\x20this\x20level!');}else{GameI['print']('You\x20already\x20have\x20a\x20Stair\x20Key\x20for\x20this\x20level!');}break;case'Ecto\x20Serum':GameI['hero']['hpMax']+=0x1;GameI['hero']['hp']+=0x1;_0x349867=!![];GameI['print']('The\x20Ecto\x20Serum\x20boosts\x20your\x20maximum\x20HP!');break;}if(_0x349867===!![]){dropItem(_0x110d31);}}function dropItem(_0x375e4){GameI['print']('You\x20drop\x20the\x20'+_0x375e4);GameI['hero']['inventory']['remove'](_0x375e4);showInventory();redraw();}function showInventory(){$('#inventory_list')['empty']();modal['style']['display']='block';var _0x1281e4=document['getElementById']('inventory_list');let _0xef0265=0x0;console['log'](GameI['hero']['inventory']['items']);for(let _0x13c871 in GameI['hero']['inventory']['items']){var _0x3ad159=document['createElement']('button');var _0x2559ae=document['createTextNode']('Use');var _0x449ee6=document['createElement']('button');var _0x504504=document['createTextNode']('Drop');var _0x52eb76=document['createTextNode'](GameI['hero']['inventory']['items'][_0x13c871]+'\x20');_0x3ad159['appendChild'](_0x2559ae);_0x3ad159['setAttribute']('type','button');_0x3ad159['onclick']=function(){useItem(GameI['hero']['inventory']['items'][_0x13c871]);};_0x3ad159['setAttribute']('id','button'+_0xef0265);_0x449ee6['appendChild'](_0x504504);_0x449ee6['setAttribute']('type','button');console['log'](GameI['hero']['inventory']['items'][_0x13c871]);_0x449ee6['onclick']=function(){dropItem(GameI['hero']['inventory']['items'][_0x13c871]);};_0x449ee6['setAttribute']('id','button'+_0xef0265);_0x1281e4['appendChild'](_0x52eb76);_0x1281e4['appendChild'](_0x3ad159);_0x1281e4['appendChild'](_0x449ee6);$('#inventory_list')['append']('<br/>');_0xef0265++;}}function createPlayerCharacter(_0x4686c9){const {x,y}=_0x4686c9['findRandomFreeCell']();GameI['hero']=GameI['createHero']({'x':x,'y':y});GameI['hero']['name']='Hero';GameI['hero']['hpMax']=0x5;GameI['hero']['hp']=0x5;GameI['getActiveLevel']();}function generateEnemy(_0x346fc1,_0x5aa0c7,_0x3a9294,_0x5421a6){var _0x5cb2e3=chance['integer']({'min':_0x3a9294,'max':_0x5421a6});while(_0x5cb2e3--){const {x,y}=_0x5aa0c7['findRandomFreeCell']();switch(_0x346fc1){case'Noun\x20Ghost':var _0x475b01=GameI['createActor']({'x':x,'y':y,'name':'Noun\x20Ghost','color':'#f44','character':'N'},_0x5aa0c7);_0x475b01['word']=getRandomWord(GameI['list_of_nouns']);_0x475b01['questionType']=chance['weighted'](['multiplechoice','typetranslation'],[0x3,0x9]);break;case'Number\x20Ghoul':var _0x475b01=GameI['createActor']({'x':x,'y':y,'name':'Number\x20Ghoul','color':'#b70004','character':'n'},_0x5aa0c7);_0x475b01['word']=chance['pickone'](GameI['list_of_numbers']);_0x475b01['questionType']=chance['weighted'](['multiplechoice'],[0x1]);break;case'Verb\x20Spectre':var _0x475b01=GameI['createActor']({'x':x,'y':y,'name':'Verb\x20Spectre','color':'#ffbc00','character':'V'},_0x5aa0c7);_0x475b01['word']=getRandomWord(GameI['list_of_verbs']);_0x475b01['questionType']='multiplechoice';break;case'Colour\x20Creeper':var _0x475b01=GameI['createActor']({'x':x,'y':y,'name':'Colour\x20Creeper','color':'#3cff57','character':'C'},_0x5aa0c7);_0x475b01['word']=getRandomWord(GameI['list_of_colours']);_0x475b01['questionType']='multiplechoice';break;}_0x475b01['setTarget'](GameI['hero']);_0x475b01['act']=function(){this['setPathToTarget'](_0x5aa0c7['getMap']());var _0x23acb9=this['path']['length'];if(_0x23acb9<0x8&&_0x23acb9>=0x2&&GameI['state']!=='BATTLE'){this['moveAlongPath']();GameI['draw']();}if(_0x23acb9<=0x3){if(GameI['state']!=='BATTLE'){GameI['current_monster']=this;battle();}}};}}function generateChests(_0x3bc49f,_0x45c62c,_0x1f1234){var _0x42c0b0=chance['integer']({'min':_0x45c62c,'max':_0x1f1234});while(_0x42c0b0--){const {x,y}=_0x3bc49f['findRandomFreeCell']();const _0x5e4777={'open':getItemFromContainer};const _0x4d9e60={'x':x,'y':y,'on':_0x5e4777,'name':'chest','inventorySize':0x1,'color':'#0600f2','character':'*'};const _0x2522e2=GameI['createItem'](_0x4d9e60,_0x3bc49f);var _0x42ae4d=chance['weighted'](['empty\x20box','healing_pot','destabilizer','skeleton_key','ecto_serum'],[0x3,0x2,0x1,0.5,0.5]);switch(_0x42ae4d){case'empty\x20box':break;case'healing_pot':const _0x4bc887=GameI['createItem']({'x':x,'y':y,'character':'\x22','name':'Healing\x20Potion'},_0x3bc49f);_0x2522e2['addItem'](_0x4bc887);break;case'destabilizer':const _0x296ad3=GameI['createItem']({'x':x,'y':y,'character':'$','name':'Destabilizer'},_0x3bc49f);_0x2522e2['addItem'](_0x296ad3);break;case'skeleton_key':const _0x758ec0=GameI['createItem']({'x':x,'y':y,'character':'^','name':'Skeleton\x20Key'},_0x3bc49f);_0x2522e2['addItem'](_0x758ec0);break;case'ecto_serum':const _0x37f922=GameI['createItem']({'x':x,'y':y,'character':'(','name':'Ecto\x20Serum'},_0x3bc49f);_0x2522e2['addItem'](_0x37f922);break;}}}function generateStairs(_0x5df217,_0x8a77d8=0x2){while(_0x8a77d8--){const {x,y}=_0x5df217['findRandomFreeCell']();const _0xc47429={'open':nextLevel};const _0x25b3e0={'x':x,'y':y,'on':_0xc47429,'name':'Stairs','inventorySize':0x1,'character':'>'};GameI['createItem'](_0x25b3e0,_0x5df217);}}function nextLevel(){if(GameI['hero']['stairkey']){GameI['hero']['stairkey']=![];$('#lbl_key')['text']('Key:N');GameI['activeLevelIndex']=GameI['activeLevelIndex']+0x1;GameI['print']('You\x20use\x20the\x20key\x20to\x20descend\x20to\x20level\x20'+GameI['activeLevelIndex'],color='#1ef200');$('#lbl_level')['text']('Level:'+GameI['activeLevelIndex']);initLevel();}else{GameI['print']('You\x20need\x20to\x20find\x20the\x20Stair\x20Key\x20first!',color='#fff9fc');}}function initData(){var _0x25e177=[];$['ajaxSetup']({'async':![]});var _0x382d53=getUrlParameter('language');if(getUrlParameter('mode')==='noun'){let _0x2680b9=$['getJSON']('data/'+_0x382d53+'_nouns.json');GameI['list_of_nouns']=_0x2680b9['responseJSON'];}else{try{let _0x5698e1=$['getJSON']('data/'+_0x382d53+'_nouns.json');GameI['list_of_nouns']=_0x5698e1['responseJSON'];let _0x3e6ae2=$['getJSON']('data/'+_0x382d53+'_verbs.json');GameI['list_of_verbs']=_0x3e6ae2['responseJSON'];let _0x33506b=$['getJSON']('data/'+_0x382d53+'_numbers.json');GameI['list_of_numbers']=_0x33506b['responseJSON'];let _0x21e9f6=$['getJSON']('data/'+_0x382d53+'_colours.json');GameI['list_of_colours']=_0x21e9f6['responseJSON'];}catch(_0x7ecbb1){console['log']('couldnt\x20load\x20language\x20files');}}}function initLevel(){GameI['scheduler']['clear']();const _0x585ed7=GameI['createLevel']({'map':{'type':'digger','walls':!![]}});const _0xe0a513=GameI['activeLevelIndex'];console['log'](_0xe0a513);if(GameI['hero']!==null){var _0x3ce2b1=GameI['hero']['hp'];var _0x23b299=GameI['hero']['inventory'];}createPlayerCharacter(_0x585ed7);if(_0x3ce2b1){GameI['hero']['hp']=_0x3ce2b1;GameI['hero']['inventory']=_0x23b299;}console['log']('difficult'+GameI['getActiveLevel']()['difficulty']);generateStairs(_0x585ed7,0x2);generateChests(_0x585ed7,0x2,0x4);var _0x193e7b=getUrlParameter('mode');if(_0x193e7b==='full'){switch(_0xe0a513){case 0x0:case 0x1:case 0x2:GameI['getActiveLevel']()['difficulty']=0x0;generateEnemy('Noun\x20Ghost',_0x585ed7,0x2,0x5);generateEnemy('Number\x20Ghoul',_0x585ed7,0x4,0x5);break;case 0x3:case 0x4:case 0x5:case 0x6:GameI['getActiveLevel']()['difficulty']=0x1;generateEnemy('Noun\x20Ghost',_0x585ed7,0x3,0x4);generateEnemy('Colour\x20Creeper',_0x585ed7,0x3,0x4);generateEnemy('Number\x20Ghoul',_0x585ed7,0x1,0x2);break;case 0x7:case 0x8:case 0x9:case 0xa:GameI['getActiveLevel']()['difficulty']=0x2;generateEnemy('Noun\x20Ghost',_0x585ed7,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x585ed7,0x3,0x5);generateEnemy('Colour\x20Creeper',_0x585ed7,0x0,0x1);generateEnemy('Number\x20Ghoul',_0x585ed7,0x0,0x1);break;case 0xb:case 0xc:case 0xd:case 0xe:GameI['getActiveLevel']()['difficulty']=0x3;generateEnemy('Noun\x20Ghost',_0x585ed7,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x585ed7,0x4,0x6);break;default:GameI['getActiveLevel']()['difficulty']=0x4;generateEnemy('Number\x20Ghoul',_0x585ed7,0x4,0x5);generateEnemy('Colour\x20Creeper',_0x585ed7,0x3,0x4);generateEnemy('Noun\x20Ghost',_0x585ed7,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x585ed7,0x4,0x6);}}if(_0x193e7b==='noun'){switch(_0xe0a513){case 0x0:case 0x1:case 0x2:GameI['getActiveLevel']()['difficulty']=0x0;break;case 0x3:case 0x4:case 0x5:case 0x6:GameI['getActiveLevel']()['difficulty']=0x1;break;case 0x7:case 0x8:case 0x9:case 0xa:GameI['getActiveLevel']()['difficulty']=0x2;break;case 0xb:case 0xc:case 0xd:case 0xe:GameI['getActiveLevel']()['difficulty']=0x3;break;default:GameI['getActiveLevel']()['difficulty']=0x4;}generateEnemy('Noun\x20Ghost',_0x585ed7,0x6,0xa);}var _0x3e6897=chance['pickone'](GameI['getActiveLevel']()['actors']);while(_0x3e6897['name']==='Hero'){_0x3e6897=chance['pickone'](GameI['getActiveLevel']()['actors']);}const _0x385c4f=GameI['createItem']({'x':0x0,'y':0x0,'character':'*','name':'Stair\x20Key'},_0x585ed7);_0x3e6897['addItem'](_0x385c4f);console['log'](_0x3e6897);GameI['start']();}function initGame(){rote['ready'](()=>{var _0x46a0d0=0x0;if($(window)['width']()>0x320){_0x46a0d0=0x32;}else{_0x46a0d0=0x1e;}GameI['createDisplay']({'width':_0x46a0d0,'height':0x14,'fontSize':0x14,'fontFamily':'Fix15MonoBold'});initData();initLevel();GameI['current_monster']=null;GameI['points']=0x0;GameI['hero']['stairkey']=![];GameI['print']('Get\x20busting\x20those\x20language\x20ghosts!');});}initGame();
