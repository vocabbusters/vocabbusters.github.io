var _0x4c5994=function(){var _0x4da18e=!![];return function(_0x3ebc64,_0x1ac94a){var _0xebab91=_0x4da18e?function(){if(_0x1ac94a){var _0x30bb03=_0x1ac94a['apply'](_0x3ebc64,arguments);_0x1ac94a=null;return _0x30bb03;}}:function(){};_0x4da18e=![];return _0xebab91;};}();var _0x57e818=_0x4c5994(this,function(){var _0x1b101a=function(){return'\x64\x65\x76';},_0x41d6d8=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x31e833=function(){var _0x46daf7=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x46daf7['\x74\x65\x73\x74'](_0x1b101a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3b569d=function(){var _0x4e71cf=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4e71cf['\x74\x65\x73\x74'](_0x41d6d8['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1bd947=function(_0x2e048d){var _0x1e251f=~-0x1>>0x1+0xff%0x0;if(_0x2e048d['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1e251f)){_0x248564(_0x2e048d);}};var _0x248564=function(_0x3c17b8){var _0x588cee=~-0x4>>0x1+0xff%0x0;if(_0x3c17b8['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x588cee){_0x1bd947(_0x3c17b8);}};if(!_0x31e833()){if(!_0x3b569d()){_0x1bd947('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1bd947('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1bd947('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x57e818();const chance=new Chance();const GameI=new rote['Game']({'id':'display','keyboard':'multi-move'});$(document)['ready'](function(){$('#battle_bar')['hide']();});$(document)['keydown'](function(_0x3163e2){if(_0x3163e2['keyCode']===0xbf){destroyCurrentMonster();GameI['draw']();}});$(document)['keydown'](function(_0x4bde6d){if(_0x4bde6d['keyCode']===0xa3){GameI['hero']['stairkey']=!![];nextLevel();GameI['draw']();}});$('.radios')['keyup'](function(_0x5965a6){var _0x2482f5=_0x5965a6['keyCode']?_0x5965a6['keyCode']:_0x5965a6['which'];switch(_0x2482f5){case 0x31:$('#r_response0')['prop']('checked',!![]);break;case 0x32:$('#r_response1')['prop']('checked',!![]);break;case 0x33:$('#r_response2')['prop']('checked',!![]);break;}});$(document)['keyup'](function(_0x59043a){if(_0x59043a['keyCode']===0xd){if(GameI['state']==='BATTLE'){checkAnswer();}}});var modal=document['getElementById']('invModal');var span=document['getElementsByClassName']('close')[0x0];span['onclick']=function(){modal['style']['display']='none';};window['onclick']=function(_0x1139d1){if(_0x1139d1['target']===modal){modal['style']['display']='none';}};var getUrlParameter=function getUrlParameter(_0x98cb56){var _0x9e72fa=window['location']['search']['substring'](0x1),_0x51f195=_0x9e72fa['split']('&'),_0x15bc73,_0x3eb8f1;for(_0x3eb8f1=0x0;_0x3eb8f1<_0x51f195['length'];_0x3eb8f1++){_0x15bc73=_0x51f195[_0x3eb8f1]['split']('=');if(_0x15bc73[0x0]===_0x98cb56){return _0x15bc73[0x1]===undefined?!![]:decodeURIComponent(_0x15bc73[0x1]);}}};function getRandomWord(_0x13c324){var _0x2e3d4a=![];var _0x3da4ff=GameI['getActiveLevel']();while(_0x2e3d4a===![]){var _0x145428=chance['pickone'](_0x13c324);if(_0x145428['difficulty']<=_0x3da4ff['difficulty']||_0x145428['difficulty']==null){_0x2e3d4a=!![];break;};}return _0x145428;}function redraw(){$('#lbl_playerhp')['text']('HP:'+GameI['hero']['hp']);}function battle(){var _0x5ba74=null;GameI['state']='BATTLE';if(_0x5ba74!==null){GameI['current_monster']=_0x5ba74;}GameI['print']('The\x20'+GameI['current_monster']['name']+'\x20attacks!');$(document)['ready']();$('#battle_bar')['show']();$('#lbl_question')['text']('Translate:\x20'+GameI['current_monster']['word']['qword']);$('#lbl_result')['hide']();if(GameI['current_monster']['questionType']==='typetranslation'){$('#radio_input')['hide']();$('#text_input')['val']='';$('#text_input')['show']();$('#tinput')['focus']();}if(GameI['current_monster']['questionType']==='multiplechoice'){$('#radio_input')['show']();$('#text_input')['hide']();$('.radios')['focus']();var _0x33ad62=[];var _0x5f43ea=document['getElementsByName']('r_response');for(var _0x36be8e=0x0;_0x36be8e<_0x5f43ea['length'];_0x36be8e++){switch(GameI['current_monster']['name']){case'Noun\x20Ghost':var _0x5002cc=getRandomWord(GameI['list_of_nouns']);break;case'Verb\x20Spectre':var _0x5002cc=getRandomWord(GameI['list_of_verbs']);break;case'Number\x20Ghoul':var _0x5002cc=getRandomWord(GameI['list_of_numbers']);break;case'Colour\x20Creeper':var _0x5002cc=getRandomWord(GameI['list_of_colours']);break;}_0x33ad62['push'](_0x5002cc);let _0x34f4f1='#'+'r_response'+_0x36be8e;$(_0x34f4f1)['val'](_0x5002cc['translation'][0x0]);document['querySelector'](_0x34f4f1+'~\x20label')['innerHTML']=_0x5002cc['translation'][0x0];}if(_0x33ad62['includes'](GameI['current_monster']['word'])){}else{var _0x4fd0c1=chance['integer']({'min':0x0,'max':0x2});let _0x47f0c7='#'+'r_response'+_0x4fd0c1;$(_0x47f0c7)['val'](GameI['current_monster']['word']['translation'][0x0]);document['querySelector'](_0x47f0c7+'~\x20label')['innerHTML']=GameI['current_monster']['word']['translation'][0x0];}$('#r_response')['show']();$('#btn_rsubmit')['show']();}}function destroyCurrentMonster(){var _0x18f5e6=currentLevel['actors']['indexOf'](GameI['current_monster']);GameI['print']('You\x20destroy\x20the\x20'+GameI['current_monster']['name']+'!',color='#0600ec');const _0x12c31e=GameI['current_monster']['inventory']['hasContents']()?GameI['current_monster']['inventory']['items'][0x0]['name']:'empty\x20box';if(_0x12c31e!=='empty\x20box'){if(_0x12c31e==='Stair\x20Key'){GameI['hero']['stairkey']=!![];$('#lbl_key')['text']('Key:Y');}else{GameI['hero']['inventory']['add'](_0x12c31e);}GameI['print']('The\x20'+GameI['current_monster']['name']+'\x20drops\x20a\x20'+_0x12c31e+'!',color='#1ef200');}if(_0x18f5e6>-0x1){currentLevel['actors']['splice'](_0x18f5e6,0x1);GameI['scheduler']['remove'](GameI['current_monster']);GameI['current_monster']=null;GameI['state']='MOVEMENT';GameI['hero']['handleEvent']();$('#battle_bar')['hide']();}}function checkAnswer(){var _0x1a941b=null;var _0xa67f4b=null;console['log'](GameI['current_monster']['word']['translation']);if(GameI['current_monster']['questionType']==='typetranslation'){_0xa67f4b=$('#tinput')['val']();_0xa67f4b=_0xa67f4b['replace']('the','');for(let _0x382ef3 of GameI['current_monster']['word']['translation']){let _0x47c13a=$['trim'](_0x382ef3['toLowerCase']()['replace']('the',''));let _0x532e45=$['trim'](_0xa67f4b['toLowerCase']()['replace']('the',''));console['log'](_0x47c13a);console['log'](_0x532e45);if(_0x47c13a===_0x532e45){_0x1a941b=!![];}}}if(GameI['current_monster']['questionType']==='multiplechoice'){_0xa67f4b=$('input[name=\x27r_response\x27]:checked')['val']();if(GameI['current_monster']['word']['translation']['includes'](_0xa67f4b)){_0x1a941b=!![];}}if(_0x1a941b===!![]){$('#lbl_result')['text']('good!');currentLevel=GameI['getActiveLevel']();GameI['points']+=0x1;destroyCurrentMonster();}else{GameI['hero']['hp']-=0x1;if(GameI['hero']['hp']<=0x0){if(!alert('The\x20ghosts\x20got\x20you!\x20You\x20have\x20lost\x20the\x20game\x20with\x20'+GameI['points']+'\x20points.')){window['location']['reload']();}}GameI['print']('The\x20'+GameI['current_monster']['name']+'\x20hits\x20you!',color='#e60000');redraw();$('#lbl_result')['show']();$('#lbl_result')['text']('Incorrect!');}GameI['draw']();}function getItemFromContainer(_0x4c1f79){const _0x3fab82=_0x4c1f79['hasContents']()?_0x4c1f79['getContents'](0x0)['name']:'empty\x20box';GameI['print']('The\x20hero\x20opens\x20the\x20'+_0x4c1f79['name']+',\x20and\x20finds\x20a\x20'+_0x3fab82+'.');if(_0x3fab82!=='empty\x20box'){GameI['hero']['inventory']['add'](_0x3fab82);}currentLevel=GameI['getActiveLevel']();var _0x58dc38=currentLevel['items']['indexOf'](_0x4c1f79);if(_0x58dc38>-0x1){currentLevel['items']['splice'](_0x58dc38,0x1);}GameI['draw']();}function useItem(_0x1ec1b6){let _0x9d2f02=![];switch(_0x1ec1b6){case'Healing\x20Potion':if(GameI['hero']['hp']<GameI['hero']['hpMax']){GameI['hero']['hp']+=0x1;if(GameI['hero']['hp']>GameI['hero']['hpMax']){GameI['hero']['hp']=GameI['hero']['hpMax'];}_0x9d2f02=!![];GameI['print']('You\x20feel\x20healthier!');}else{GameI['print']('You\x20are\x20already\x20at\x20full\x20health!');}break;case'Destabilizer':if(GameI['current_monster']!==null){destroyCurrentMonster();modal['style']['display']='none';_0x9d2f02=!![];GameI['print']('The\x20Destabilizer\x20rips\x20the\x20ghost\x20apart!');}else{GameI['print']('There\x27s\x20nothing\x20to\x20Destabilize!');}break;case'Skeleton\x20Key':if(GameI['hero']['stairkey']===![]){GameI['hero']['stairkey']=!![];$('#lbl_key')['text']('Key:Y');_0x9d2f02=!![];GameI['print']('The\x20Skeleton\x20Key\x20turns\x20into\x20the\x20stair\x20key\x20for\x20this\x20level!');}else{GameI['print']('You\x20already\x20have\x20a\x20Stair\x20Key\x20for\x20this\x20level!');}break;case'Ecto\x20Serum':GameI['hero']['hpMax']+=0x1;GameI['hero']['hp']+=0x1;_0x9d2f02=!![];GameI['print']('The\x20Ecto\x20Serum\x20boosts\x20your\x20maximum\x20HP!');break;}if(_0x9d2f02===!![]){dropItem(_0x1ec1b6);}}function dropItem(_0x3d7323){GameI['print']('You\x20drop\x20the\x20'+_0x3d7323);GameI['hero']['inventory']['remove'](_0x3d7323);showInventory();redraw();}function showInventory(){$('#inventory_list')['empty']();modal['style']['display']='block';var _0x57c821=document['getElementById']('inventory_list');let _0x1618c0=0x0;console['log'](GameI['hero']['inventory']['items']);for(let _0x331f17 in GameI['hero']['inventory']['items']){var _0xd7a872=document['createElement']('button');var _0x1249a8=document['createTextNode']('Use');var _0x5f391d=document['createElement']('button');var _0x5dcd76=document['createTextNode']('Drop');var _0x249d0c=document['createTextNode'](GameI['hero']['inventory']['items'][_0x331f17]+'\x20');_0xd7a872['appendChild'](_0x1249a8);_0xd7a872['setAttribute']('type','button');_0xd7a872['onclick']=function(){useItem(GameI['hero']['inventory']['items'][_0x331f17]);};_0xd7a872['setAttribute']('id','button'+_0x1618c0);_0x5f391d['appendChild'](_0x5dcd76);_0x5f391d['setAttribute']('type','button');console['log'](GameI['hero']['inventory']['items'][_0x331f17]);_0x5f391d['onclick']=function(){dropItem(GameI['hero']['inventory']['items'][_0x331f17]);};_0x5f391d['setAttribute']('id','button'+_0x1618c0);_0x57c821['appendChild'](_0x249d0c);_0x57c821['appendChild'](_0xd7a872);_0x57c821['appendChild'](_0x5f391d);$('#inventory_list')['append']('<br/>');_0x1618c0++;}}function createPlayerCharacter(_0x56a857){const {x,y}=_0x56a857['findRandomFreeCell']();GameI['hero']=GameI['createHero']({'x':x,'y':y});GameI['hero']['name']='Hero';GameI['hero']['hpMax']=0x5;GameI['hero']['hp']=0x5;GameI['getActiveLevel']();}function generateEnemy(_0x317de2,_0x23e7dd,_0x22e910,_0x3caeb9){var _0x3b2a4f=chance['integer']({'min':_0x22e910,'max':_0x3caeb9});while(_0x3b2a4f--){const {x,y}=_0x23e7dd['findRandomFreeCell']();switch(_0x317de2){case'Noun\x20Ghost':var _0x8d8fbe=GameI['createActor']({'x':x,'y':y,'name':'Noun\x20Ghost','color':'#f44','character':'N'},_0x23e7dd);_0x8d8fbe['word']=getRandomWord(GameI['list_of_nouns']);_0x8d8fbe['questionType']=chance['weighted'](['multiplechoice','typetranslation'],[0x3,0x9]);break;case'Number\x20Ghoul':var _0x8d8fbe=GameI['createActor']({'x':x,'y':y,'name':'Number\x20Ghoul','color':'#b70004','character':'n'},_0x23e7dd);_0x8d8fbe['word']=chance['pickone'](GameI['list_of_numbers']);_0x8d8fbe['questionType']=chance['weighted'](['multiplechoice'],[0x1]);break;case'Verb\x20Spectre':var _0x8d8fbe=GameI['createActor']({'x':x,'y':y,'name':'Verb\x20Spectre','color':'#ffbc00','character':'V'},_0x23e7dd);_0x8d8fbe['word']=getRandomWord(GameI['list_of_verbs']);_0x8d8fbe['questionType']='multiplechoice';break;case'Colour\x20Creeper':var _0x8d8fbe=GameI['createActor']({'x':x,'y':y,'name':'Colour\x20Creeper','color':'#3cff57','character':'C'},_0x23e7dd);_0x8d8fbe['word']=getRandomWord(GameI['list_of_colours']);_0x8d8fbe['questionType']='multiplechoice';break;}_0x8d8fbe['setTarget'](GameI['hero']);_0x8d8fbe['act']=function(){this['setPathToTarget'](_0x23e7dd['getMap']());var _0x498e52=this['path']['length'];if(_0x498e52<0x8&&_0x498e52>=0x2&&GameI['state']!=='BATTLE'){this['moveAlongPath']();GameI['draw']();}if(_0x498e52<=0x3){if(GameI['state']!=='BATTLE'){GameI['current_monster']=this;battle();}}};}}function generateChests(_0x4a6148,_0x31e0fd,_0x1faa9c){var _0x1b67b4=chance['integer']({'min':_0x31e0fd,'max':_0x1faa9c});while(_0x1b67b4--){const {x,y}=_0x4a6148['findRandomFreeCell']();const _0x45ee95={'open':getItemFromContainer};const _0x44a005={'x':x,'y':y,'on':_0x45ee95,'name':'chest','inventorySize':0x1,'color':'#0600f2','character':'*'};const _0x25c885=GameI['createItem'](_0x44a005,_0x4a6148);var _0x173f4d=chance['weighted'](['empty\x20box','healing_pot','destabilizer','skeleton_key','ecto_serum'],[0x3,0x2,0x1,0.5,0.5]);switch(_0x173f4d){case'empty\x20box':break;case'healing_pot':const _0x2d5f51=GameI['createItem']({'x':x,'y':y,'character':'\x22','name':'Healing\x20Potion'},_0x4a6148);_0x25c885['addItem'](_0x2d5f51);break;case'destabilizer':const _0x476d3a=GameI['createItem']({'x':x,'y':y,'character':'$','name':'Destabilizer'},_0x4a6148);_0x25c885['addItem'](_0x476d3a);break;case'skeleton_key':const _0x1b04cc=GameI['createItem']({'x':x,'y':y,'character':'^','name':'Skeleton\x20Key'},_0x4a6148);_0x25c885['addItem'](_0x1b04cc);break;case'ecto_serum':const _0xe45c6d=GameI['createItem']({'x':x,'y':y,'character':'(','name':'Ecto\x20Serum'},_0x4a6148);_0x25c885['addItem'](_0xe45c6d);break;}}}function generateStairs(_0x51c435,_0x266c42=0x2){while(_0x266c42--){const {x,y}=_0x51c435['findRandomFreeCell']();const _0x4e954a={'open':nextLevel};const _0x2b90f6={'x':x,'y':y,'on':_0x4e954a,'name':'Stairs','inventorySize':0x1,'character':'>'};GameI['createItem'](_0x2b90f6,_0x51c435);}}function nextLevel(){if(GameI['hero']['stairkey']){GameI['hero']['stairkey']=![];$('#lbl_key')['text']('Key:N');GameI['activeLevelIndex']=GameI['activeLevelIndex']+0x1;GameI['print']('You\x20use\x20the\x20key\x20to\x20descend\x20to\x20level\x20'+GameI['activeLevelIndex'],color='#1ef200');$('#lbl_level')['text']('Level:'+GameI['activeLevelIndex']);initLevel();}else{GameI['print']('You\x20need\x20to\x20find\x20the\x20Stair\x20Key\x20first!',color='#fff9fc');}}function initData(){var _0x38033d=[];$['ajaxSetup']({'async':![]});var _0x4a9c59=getUrlParameter('language');if(getUrlParameter('mode')==='noun'){let _0x2f1414=$['getJSON']('data/'+_0x4a9c59+'_nouns.json');GameI['list_of_nouns']=_0x2f1414['responseJSON'];}else{try{let _0x4f989b=$['getJSON']('data/'+_0x4a9c59+'_nouns.json');GameI['list_of_nouns']=_0x4f989b['responseJSON'];let _0x41a9e8=$['getJSON']('data/'+_0x4a9c59+'_verbs.json');GameI['list_of_verbs']=_0x41a9e8['responseJSON'];let _0x2de88b=$['getJSON']('data/'+_0x4a9c59+'_numbers.json');GameI['list_of_numbers']=_0x2de88b['responseJSON'];let _0x5d3b28=$['getJSON']('data/'+_0x4a9c59+'_colours.json');GameI['list_of_colours']=_0x5d3b28['responseJSON'];}catch(_0x1616ac){console['log']('couldnt\x20load\x20language\x20files');}}}function initLevel(){GameI['scheduler']['clear']();const _0x1ac6c0=GameI['createLevel']({'map':{'type':'digger','walls':!![]}});const _0x8b231f=GameI['activeLevelIndex'];console['log'](_0x8b231f);if(GameI['hero']!==null){var _0x2cb51d=GameI['hero']['hp'];var _0xd9612=GameI['hero']['inventory'];}createPlayerCharacter(_0x1ac6c0);if(_0x2cb51d){GameI['hero']['hp']=_0x2cb51d;GameI['hero']['inventory']=_0xd9612;}console['log']('difficult'+GameI['getActiveLevel']()['difficulty']);generateStairs(_0x1ac6c0,0x2);generateChests(_0x1ac6c0,0x2,0x4);var _0x2c88cb=getUrlParameter('mode');if(_0x2c88cb==='full'){switch(_0x8b231f){case 0x0:case 0x1:case 0x2:GameI['getActiveLevel']()['difficulty']=0x0;generateEnemy('Noun\x20Ghost',_0x1ac6c0,0x2,0x5);generateEnemy('Number\x20Ghoul',_0x1ac6c0,0x4,0x5);break;case 0x3:case 0x4:case 0x5:case 0x6:GameI['getActiveLevel']()['difficulty']=0x1;generateEnemy('Noun\x20Ghost',_0x1ac6c0,0x3,0x4);generateEnemy('Colour\x20Creeper',_0x1ac6c0,0x3,0x4);generateEnemy('Number\x20Ghoul',_0x1ac6c0,0x1,0x2);break;case 0x7:case 0x8:case 0x9:case 0xa:GameI['getActiveLevel']()['difficulty']=0x2;generateEnemy('Noun\x20Ghost',_0x1ac6c0,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x1ac6c0,0x3,0x5);generateEnemy('Colour\x20Creeper',_0x1ac6c0,0x0,0x1);generateEnemy('Number\x20Ghoul',_0x1ac6c0,0x0,0x1);break;case 0xb:case 0xc:case 0xd:case 0xe:GameI['getActiveLevel']()['difficulty']=0x3;generateEnemy('Noun\x20Ghost',_0x1ac6c0,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x1ac6c0,0x4,0x6);break;default:GameI['getActiveLevel']()['difficulty']=0x4;generateEnemy('Number\x20Ghoul',_0x1ac6c0,0x4,0x5);generateEnemy('Colour\x20Creeper',_0x1ac6c0,0x3,0x4);generateEnemy('Noun\x20Ghost',_0x1ac6c0,0x3,0x4);generateEnemy('Verb\x20Spectre',_0x1ac6c0,0x4,0x6);}}if(_0x2c88cb==='noun'){switch(_0x8b231f){case 0x0:case 0x1:case 0x2:GameI['getActiveLevel']()['difficulty']=0x0;break;case 0x3:case 0x4:case 0x5:case 0x6:GameI['getActiveLevel']()['difficulty']=0x1;break;case 0x7:case 0x8:case 0x9:case 0xa:GameI['getActiveLevel']()['difficulty']=0x2;break;case 0xb:case 0xc:case 0xd:case 0xe:GameI['getActiveLevel']()['difficulty']=0x3;break;default:GameI['getActiveLevel']()['difficulty']=0x4;}generateEnemy('Noun\x20Ghost',_0x1ac6c0,0x6,0xa);}var _0xd82002=chance['pickone'](GameI['getActiveLevel']()['actors']);while(_0xd82002['name']==='Hero'){_0xd82002=chance['pickone'](GameI['getActiveLevel']()['actors']);}const _0x361e9d=GameI['createItem']({'x':0x0,'y':0x0,'character':'*','name':'Stair\x20Key'},_0x1ac6c0);_0xd82002['addItem'](_0x361e9d);console['log'](_0xd82002);GameI['start']();}function initGame(){rote['ready'](()=>{var _0xa98198=0x0;if($(window)['width']()>0x320){_0xa98198=0x32;}else{_0xa98198=0x1e;}GameI['createDisplay']({'width':_0xa98198,'height':0x14,'fontSize':0x14,'fontFamily':'Fix15MonoBold'});initData();initLevel();GameI['current_monster']=null;GameI['points']=0x0;GameI['hero']['stairkey']=![];GameI['print']('Get\x20busting\x20those\x20language\x20ghosts!');});}initGame();
